<!--
Copyright 2015 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<div style="visibility: hidden">
    <div class="md-dialog-container" id="myDialog">
        <md-dialog layout-padding>
            <p class="modal-frame-width-style">[[创建新用户|创建新用户-usermanagement]]</p>
            <form name="projectForm" id="aaa" ng-submit="$ctrl.fCreateNewUser()">
                <md-input-container class="md-block">
                    <label>[[用户名|用户名-usermanagement]]</label>
                    <input required ng-model="$ctrl.oNewUserMsg.name">
                    <div ng-messages="projectForm.userName.$error">
                        <div ng-message="required">[[This is required|This is required-usermanagement]].</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block">
                    <label>[[邮箱|邮箱-usermanagement]]</label>
                    <input required type="email" ng-model="$ctrl.oNewUserMsg.email">
                    <div ng-messages="projectForm.userEmail.$error">
                        <div ng-message="required">[[This is required|This is required-usermanagement]].</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>[[权限|权限-usermanagement]]</label>
                    <md-select ng-model="$ctrl.oNewUserMsg.root">
                        <md-option ng-repeat="state in $ctrl.aRootAge" value="{{state}}">
                            {{state}}
                        </md-option>
                    </md-select>
                </md-input-container>
                <md-input-container class="md-block">
                    <label>[[密码|密码-usermanagement]]</label>
                    <input required minlength="6" maxlength="12" type="password" ng-model="$ctrl.oNewUserMsg.password">
                    <div ng-messages="projectForm.userPassword.$error">
                        <div ng-message="required">[[This is required|This is required-usermanagement]].</div>
                    </div>
                </md-input-container>
                <md-input-container class="md-block">
                    <label>[[确认密码|确认密码-usermanagement]]</label>
                    <input required type="password" ng-model="$ctrl.oNewUserMsg.confirmPassword">
                    <div ng-messages="projectForm.userPassword.$error">
                        <div ng-message="required">[[This is required|This is required-usermanagement]].</div>
                    </div>
                    <div class="password-error-style" ng-if="$ctrl.bPasswordError">[[两次输入密码不一致，请重新输入|两次输入密码不一致，请重新输入-usermanagement]]*</div>
                </md-input-container>
                <div style="text-align:right;">
                    <md-button class="md-raised md-primary" type="submit">
                        [[创建|创建-usermanagement]]
                    </md-button>
                    <md-button class="md-raised" ng-click="$ctrl.cancel()">
                        [[取消|取消-usermanagement]]
                    </md-button>
                </div>
            </form>
        </md-dialog>
    </div>
</div>
<kd-content-card ng-if="!$ctrl.shouldShowZeroState()">
    <kd-content>
        <kd-usermanagement-card-list usermanagement-list="::$ctrl.usermanagementList" usermanagement-list-resource="::$ctrl.usermanagementListResource">
        </kd-usermanagement-card-list>
    </kd-content>
</kd-content-card>
<kd-zero-state ng-if="$ctrl.shouldShowZeroState()"></kd-zero-state>